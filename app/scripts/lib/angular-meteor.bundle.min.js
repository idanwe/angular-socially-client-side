!function(){var e,t,n,r,o=(Package.meteor.Meteor,Package.tracker.Tracker),i=(Package.tracker.Deps,Package.minimongo.LocalCollection),a=(Package.minimongo.Minimongo,Package.underscore._),s=Package.random.Random;(function(){var u=function(){e._suppressWarnings?e._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),e._loggedWarnings++)},c=i._idStringify,l=i._idParse;e={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,i){var s=null,u=null,c=[],l=o.autorun(function(){var l=e();o.nonreactive(function(){var e;if(u&&(c=a.map(s.fetch(),function(e){return{_id:e._id,item:e}}),u.stop(),u=null),l)if(l instanceof Array)e=n(c,l,i);else{if(!d(l))throw f();var o=r(c,l,i);e=o[0],u=o[1]}else e=t(c,i);p(c,e,i),s=l,c=e})});return{stop:function(){l.stop(),u&&u.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(d(e))return e.fetch();throw f()}return[]}};var f=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},d=function(e){return e&&a.isObject(e)&&a.isFunction(e.observe)&&a.isFunction(e.fetch)},p=function(e,t,n){var r=Package.minimongo.LocalCollection._diffQueryOrderedChanges,o=[],i=[],s={},u={},f={},d=e.length;a.each(t,function(e,t){i.push({_id:e._id}),u[c(e._id)]=t}),a.each(e,function(e,t){o.push({_id:e._id}),s[c(e._id)]=t,f[c(e._id)]=t}),r(o,i,{addedBefore:function(e,r,o){var i=o?f[c(o)]:d;o&&a.each(f,function(e,t){e>=i&&f[t]++}),d++,f[c(e)]=i,n.addedAt(e,t[u[c(e)]].item,i,o)},movedBefore:function(e,r){if(e!==r){var o=f[c(e)],i=r?f[c(r)]:d;i>o&&i--,a.each(f,function(e,t){e>o&&i>e?f[t]--:e>=i&&o>e&&f[t]++}),f[c(e)]=i,n.movedTo(e,t[u[c(e)]].item,o,i,r)}},removed:function(t){var r=f[c(t)];a.each(f,function(e,t){e>=r&&f[t]--}),delete f[c(t)],d--,n.removedAt(t,e[s[c(t)]].item,r)}}),a.each(u,function(r,o){var i=l(o);if(a.has(s,o)){var u=t[r].item,c=e[s[o]].item;("object"==typeof u||u!==c)&&n.changedAt(i,u,c,r)}})};t=function(){return[]},n=function(e,t){var n={},r=a.map(t,function(e,r){var o;if("string"==typeof e)o="-"+e;else if("number"==typeof e||"boolean"==typeof e||void 0===e)o=e;else{if("object"!=typeof e)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof e);o=e&&e._id||r}var i=c(o);return n[i]?("object"==typeof e&&"_id"in e&&u("duplicate id "+o+" in",t),o=s.id()):n[i]=!0,{_id:o,item:e}});return r},r=function(e,t,n){var r=!0,o=[],i=t.observe({addedAt:function(e,t,i){if(r){if(null!==i)throw new Error("Expected initial data from observe in order");o.push({_id:e._id,item:e})}else n.addedAt(e._id,e,t,i)},changedAt:function(e,t,r){n.changedAt(e._id,e,t,r)},removedAt:function(e,t){n.removedAt(e._id,e,t)},movedTo:function(e,t,r,o){n.movedTo(e._id,e,t,r,o)}});return r=!1,[o,i]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.mongo.Mongo;Package.tracker.Tracker,Package.tracker.Deps,Package.minimongo.LocalCollection,Package.minimongo.Minimongo}(function(){e={},e._extensions=[],t.addCollectionExtension=function(n){if("function"!=typeof n)throw new t.Error("collection-extension-wrong-argument","You must pass a function        into Meteor.addCollectionExtension().");e._extensions.push(n),"undefined"!=typeof t.users&&n.apply(t.users,["users"])},t.addCollectionPrototype=function(e,r){if("string"!=typeof e)throw new t.Error("collection-extension-wrong-argument","You must pass a string as the first argument        into Meteor.addCollectionPrototype().");if("function"!=typeof r)throw new t.Error("collection-extension-wrong-argument","You must pass a function as the second argument        into Meteor.addCollectionPrototype().");("undefined"!=typeof n?n.Collection:t.Collection).prototype[e]=r},e._reassignCollectionPrototype=function(e,r){var o="function"==typeof Object.setPrototypeOf;r||(r="undefined"!=typeof n?n.Collection:t.Collection),o?Object.setPrototypeOf(e,r.prototype):e.__proto__&&(e.__proto__=r.prototype)},e._wrapCollection=function(t,n){n._CollectionPrototype||(n._CollectionPrototype=new n.Collection(null));var r=n.Collection,o=n._CollectionPrototype;t.Collection=function(){var t=r.apply(this,arguments);return e._processCollectionExtensions(this,arguments),t},t.Collection.prototype=o,t.Collection.prototype.constructor=t.Collection;for(var i in r)r.hasOwnProperty(i)&&(t.Collection[i]=r[i])},e._processCollectionExtensions=function(t,n){for(var n=n?[].slice.call(n,0):void 0,r=e._extensions,o=0,i=r.length;i>o;o++)r[o].apply(t,n)},"undefined"!=typeof n?(e._wrapCollection(t,n),e._wrapCollection(n,n)):e._wrapCollection(t,t),"undefined"!=typeof t.users&&e._reassignCollectionPrototype(t.users)}).call(this),"undefined"==typeof Package&&(Package={}),Package["lai:collection-extensions"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.mongo.Mongo,n=Package.underscore._;(function(){var r=[];e.addCollectionExtension(function(e,t){r.push({name:e,instance:this,options:t})}),t.Collection.get=function(e,t){t=t||{};var o=n.find(r,function(n){return t.connection?n.name===e&&n.options&&n.options.connection._lastSessionId===t.connection._lastSessionId:n.name===e});return o&&o.instance},t.Collection.getAll=function(){return r},e.Collection=t.Collection}).call(this),"undefined"==typeof Package&&(Package={}),Package["dburles:mongo-collection-instances"]={}}(),function(){{var e=Package.meteor.Meteor,t=Package.minimongo.LocalCollection;Package.minimongo.Minimongo,Package["observe-sequence"].ObserveSequence}(function(){!function(e){"use strict";function t(t,n,r){function o(){return d(t)||d(n)?n:(g={},u(),i(),n)}function i(){e.isArray(n)?a("[]",n):e.isObject(n)&&s(".",n)}function a(t,n){for(var r=0,o=n.length;o>r;r++){var i=n[r];e.isArray(i)?a(t+"[]",i):e.isObject(i)&&s(t+".",i)}}function s(t,n){var r=f(n);if(r){var o=t+n[r];g.hasOwnProperty(o)&&(n[h]=g[o])}for(var i in n)if(n.hasOwnProperty(i)&&p(i)){var u=n[i];e.isArray(u)?a(t+i+"[]",u):e.isObject(u)&&s(t+i+".",u)}}function u(){e.isArray(t)?c("[]",t):e.isObject(t)&&l(".",t)}function c(t,n){for(var r=0,o=n.length;o>r;r++){var i=n[r];e.isArray(i)?c(t+"[]",i):e.isObject(i)&&l(t+".",i)}}function l(t,n){if(n.hasOwnProperty(h)){var r=f(n);r&&(g[t+n[r]]=n[h])}for(var o in n)if(n.hasOwnProperty(o)&&p(o)){var i=n[o];e.isArray(i)?c(t+o+"[]",i):e.isObject(i)&&l(t+o+".",i)}}function f(e){for(var t=0,n=r.length;n>t;t++){var o=r[t];if(e.hasOwnProperty(o))return o}return null}function d(t){return t?e.isArray(t)?0===t.length:e.isObject(t)?!1:!0:!0}function p(e){return!m.test(e)}var h="$$hashKey",g={};r||(r=["id"]);var m=/^$/i;return{copyHashKeys:o}}var n=e.module("hashKeyCopier",[]);n.value("HashKeyCopier",t),t.copyHashKeys=function(e,n,r){var o=new t(e,n,r);return o.copyHashKeys(),n}}(angular)}).call(this),function(){"use strict";var e=angular.module("diffArray",["getUpdates"]);e.factory("diffArray",["getUpdates",function(e){function n(t,n,i,a){a=!!a;var s=Package.minimongo.LocalCollection._diffQueryOrderedChanges,u=[],c=[],l={},f={},d={},p=t.length;_.each(n,function(e,t){c.push({_id:e._id}),f[r(e._id)]=t}),_.each(t,function(e,t){u.push({_id:e._id}),l[r(e._id)]=t,d[r(e._id)]=t}),s(u,c,{addedBefore:function(e,t,o){var a=o?d[r(o)]:p;_.each(d,function(e,t){e>=a&&d[t]++}),p++,d[r(e)]=a,i.addedAt(e,n[f[r(e)]],a,o)},movedBefore:function(e,t){var o=d[r(e)],a=t?d[r(t)]:p-1;_.each(d,function(e,t){e>=o&&a>=e?d[t]--:o>=e&&e>=a&&d[t]++}),d[r(e)]=a,i.movedTo(e,n[f[r(e)]],o,a,t)},removed:function(e){var n=d[r(e)];_.each(d,function(e,t){e>=n&&d[t]--}),delete d[r(e)],p--,i.removedAt(e,t[l[r(e)]],n)}}),_.each(f,function(r,s){if(_.has(l,s)){var u=o(s),c=n[r]||{},f=t[l[s]],d=e(f,c,a),p=d.$set,h=d.$unset;p&&(p._id=c._id),h&&(h._id=c._id),(p||h)&&i.changedAt(u,p,h,r,f)}})}var r=t._idStringify||Package["mongo-id"].MongoID.idStringify,o=t._idParse||Package["mongo-id"].MongoID.idParse;n.deepCopyChanges=function(t,n){var r=e(t,n).$set;_.each(r,function(e,n){i(t,n,e)})},n.deepCopyRemovals=function(t,n){var r=e(t,n).$unset;_.each(r,function(e,n){a(t,n)})};var i=function(e,t,n){var r=t.split("."),o=_.initial(r),i=_.last(r);return o.reduce(function(e,t,n){var o=r[n+1];return c(o)?(null==e[t]&&(e[t]=[]),e[t].length==parseInt(o)&&e[t].push(null)):null!=e[t]&&u(e[t])||(e[t]={}),e[t]},e),s(e,o)[i]=n,n},a=function(e,t){var n=t.split("."),r=_.initial(n),o=_.last(n);return delete s(e,r)[o]},s=function(e,t){return t.reduce(function(e,t){return e[t]},e)},u=function(e){return _.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},c=function(e){return e.match(/^\d+$/)};return n}])}.call(this),function(){"use strict";!function(){var e=angular.module("getUpdates",[]),t=function(){var e=function(t,n){return 1>n?{}:_.reduce(t,function(t,r,o){return r=_.isObject(r)?e(r,--n):r,t[o]=r,t},{})},t=function(e){var t=n(e),o=r(e);return _.object(t,o)},n=function(e){var t=_.keys(e).map(function(t){var r=e[t];return!_.isObject(r)||_.isEmpty(r)?t:n(r).map(function(e){return t+"."+e})});return _.flatten(t)},r=function(e){var t=_.values(e).map(function(e){return!_.isObject(e)||_.isEmpty(e)?e:r(e)});return o(t)},o=function(e){return e.reduce(function(e,t){return _.isArray(t)&&!_.isEmpty(t)?e.push.apply(e,o(t)):e.push(t),e},[])},i=function(e,t,n){_.isEmpty(n)||(e[t]=n)},a=function(e,t){e||s(t)},s=function(e){throw Error("get-updates error - "+e)};return{rip:e,toPaths:t,getKeyPaths:n,getDeepValues:r,setFilled:i,assert:a,throwErr:s}}(),n=function(){var e=function(e,r,o){var i;return o>1?i=o:o&&(i=1),i&&(e=t.rip(e,i),r=t.rip(r,i)),n(e,r)},n=function(n,r){var o=_.keys(n),i=_.keys(r),a=_.chain([]).concat(o).concat(i).uniq().without("$$hashKey").value();return a.reduce(function(o,i){var a=n[i],s=r[i];if(_.isDate(a)&&_.isDate(s)&&a.getTime()!=s.getTime()&&(o[i]=s),_.isObject(a)&&_.isObject(s)){var u=e(a,s);t.setFilled(o,i,u)}else a!==s&&(o[i]=s);return o},{})};return e}(),r=function(){var e=function(e,a,s){t.assert(_.isObject(e),"first argument must be an object"),t.assert(_.isObject(a),"second argument must be an object");var u=n(e,a,s),c=t.toPaths(u),l=r(c),f=o(c),d=i(f),p={};return t.setFilled(p,"$set",l),t.setFilled(p,"$unset",f),t.setFilled(p,"$pull",d),p},r=function(e){var t=a(e);return _.omit(e,t)},o=function(e){var t=a(e),n=_.pick(e,t);return _.reduce(n,function(e,t,n){return e[n]=!0,e},{})},i=function(e){var t=_.keys(e).map(function(e){var t=e.match(/(.*)\.\d+$/);return t&&t[1]});return _.compact(t).reduce(function(e,t){return e[t]=null,e},{})},a=function(e){return _.keys(e).filter(function(t){var n=e[t];return _.isUndefined(n)})};return e}();e.value("getUpdates",r)}()}.call(this),function(){"use strict";var t=angular.module("angular-meteor.subscribe",[]);t.service("$meteorSubscribe",["$q",function(t){var n=this;this._subscribe=function(t,n,r){var o=null;return r.push({onReady:function(){n.resolve(o)},onError:function(e){n.reject(e)}}),o=e.subscribe.apply(t,r)},this.subscribe=function(){var e=t.defer(),r=Array.prototype.slice.call(arguments);return n._subscribe(this,e,r),e.promise}}]),t.run(["$rootScope","$q","$meteorSubscribe",function(e,t,n){Object.getPrototypeOf(e).$meteorSubscribe=function(){var e=t.defer(),r=Array.prototype.slice.call(arguments),o=n._subscribe(this,e,r);return this.$on("$destroy",function(){o.stop()}),e.promise}}])}.call(this),function(){"use strict";var e=angular.module("angular-meteor.stopper",["angular-meteor.subscribe"]);e.factory("$meteorStopper",["$q","$meteorSubscribe",function(e,t){function n(e){return function(){var t=Array.prototype.slice.call(arguments),r=e.apply(this,t);return angular.extend(r,n),r.$$scope=this,this.$on("$destroy",function(){r.stop(),r.subscription&&r.subscription.stop()}),r}}return n.subscribe=function(){var n=Array.prototype.slice.call(arguments);return this.subscription=t._subscribe(this.$$scope,e.defer(),n),this},n}])}.call(this),function(){"use strict";var e=angular.module("angular-meteor.collection",["angular-meteor.stopper","angular-meteor.subscribe","angular-meteor.utils","diffArray"]);e.factory("AngularMeteorCollection",["$q","$meteorSubscribe","$meteorUtils","$rootScope","$timeout","diffArray",function(e,n,r,o,i,a){function s(e,t,n,o){var i=[];if(i._serverBackup=[],i._diffArrayFunc=n,i._hObserve=null,i._hNewCurAutorun=null,i._hDataAutorun=null,angular.isDefined(t))i.$$collection=t;else{var a=e();i.$$collection=r.getCollectionByName(a.collection.name)}return angular.extend(i,s),i._startCurAutorun(e,o),i}return s._startCurAutorun=function(e,t){var n=this;n._hNewCurAutorun=Tracker.autorun(function(){Tracker.onInvalidate(function(){n._stopCursor()}),t&&n._setAutoClientSave(),n._updateCursor(e(),t)})},s.subscribe=function(){return n.subscribe.apply(this,arguments),this},s.save=function(t,n){t||(t=this),t=[].concat(t);var r=t.map(function(e){return this._upsertDoc(e,n)},this),o=e.all(r);return o.finally(function(){i(angular.noop)}),o},s._upsertDoc=function(t,n){var o,i=e.defer(),a=this.$$collection,s=_.partial(r.fulfill,i,null);t=r.stripDollarPrefixedKeys(t);var u=t._id,c=a.findOne(u);if(c){delete t._id;var l=n?{$unset:t}:{$set:t};o=s({_id:u,action:"updated"}),a.update(u,l,o)}else o=s({_id:u,action:"inserted"}),a.insert(t,o);return i.promise},s.remove=function(t){var n;n=t?_.map([].concat(t),function(e){return e._id||e}):_.pluck(this,"_id"),check(n,[Match.OneOf(String,Mongo.ObjectID)]);var r=n.map(function(e){return this._removeDoc(e)},this),o=e.all(r);return o.finally(function(){i(angular.noop)}),o},s._removeDoc=function(t){var n=e.defer(),o=this.$$collection,i=r.fulfill(n,null,{_id:t,action:"removed"});return o.remove(t,i),n.promise},s._updateCursor=function(e,n){function r(){u=!0,s._unsetAutoClientSave()}function o(){c&&(i.cancel(c),c=null),c=i(function(){u=!1;var e=t.diff(s,s._serverBackup,s._diffArrayFunc);s._saveChanges(e),n&&s._setAutoClientSave()},0)}var s=this;s._hObserve&&(s._hObserve.stop(),s._hDataAutorun.stop());var u=!1,c=null;this._hObserve=e.observe({addedAt:function(e,t){s.splice(t,0,e),s._serverBackup.splice(t,0,e),r()},changedAt:function(e,t,n){a.deepCopyChanges(s[n],e),a.deepCopyRemovals(s[n],e),s._serverBackup[n]=s[n],r()},movedTo:function(e,t,n){s.splice(t,1),s.splice(n,0,e),s._serverBackup.splice(t,1),s._serverBackup.splice(n,0,e),r()},removedAt:function(e){var n=t.findIndexById(s,e);-1!=n?(s.splice(n,1),s._serverBackup.splice(n,1),r()):(n=t.findIndexById(s._serverBackup,e),-1!=n&&s._serverBackup.splice(n,1))}}),this._hDataAutorun=Tracker.autorun(function(){e.fetch(),u&&o()})},s.stop=function(){this._stopCursor(),this._hNewCurAutorun.stop()},s._stopCursor=function(){this._unsetAutoClientSave(),this._hObserve&&(this._hObserve.stop(),this._hDataAutorun.stop()),this.splice(0),this._serverBackup.splice(0)},s._unsetAutoClientSave=function(){this._hRegAutoBind&&(this._hRegAutoBind(),this._hRegAutoBind=null)},s._setAutoClientSave=function(){var e=this;e._unsetAutoClientSave(),e._hRegAutoBind=o.$watch(function(){return e},function(n,r){if(n!==r){e._unsetAutoClientSave();var o=t.diff(e,r,e._diffArrayFunc);e._saveChanges(o),e._setAutoClientSave()}},!0)},s._saveChanges=function(e){for(var t=[],n=e.added.length-1;n>=0;n--)this.splice(e.added[n].index,1),t.push(e.added[n].item);t.length&&this.save(t);for(var r=[],n=0;n<e.removed.length;n++)r.push(e.removed[n].item);r.length&&this.remove(r);for(var o=[],i=[],n=0;n<e.changed.length;n++){var a=e.changed[n];a.setDiff&&o.push(a.setDiff),a.unsetDiff&&i.push(a.unsetDiff)}o.length&&this.save(o),i.length&&this.save(i,!0)},s}]),e.factory("$meteorCollectionFS",["$meteorCollection","diffArray",function(e,t){function n(t,n,o){return new e(t,n,o,r)}var r=function(e,n,r){return t(e,n,r,!0)};return n}]),e.factory("$meteorCollection",["AngularMeteorCollection","$rootScope","diffArray",function(e,t,n){function r(t,r,o,i){if(!t)throw new TypeError("The first argument of $meteorCollection is undefined.");if(!angular.isFunction(t)&&!angular.isFunction(t.find))throw new TypeError("The first argument of $meteorCollection must be a function or            a have a find function property.");angular.isFunction(t)||(o=angular.isDefined(o)?o:t,t=_.bind(t.find,t)),r=angular.isDefined(r)?r:!0;var a=new e(t,o,i||n,r);return a}return r}]),e.run(["$rootScope","$meteorCollection","$meteorCollectionFS","$meteorStopper",function(e,t,n,r){var o=Object.getPrototypeOf(e);o.$meteorCollection=r(t),o.$meteorCollectionFS=r(n)}]);var t={findIndexById:function(e,t){var n=_.find(e,function(e){return EJSON.equals(e._id,t._id)});return _.indexOf(e,n)},diff:function(e,t,n){var r={added:[],removed:[],changed:[]};return n(t,e,{addedAt:function(e,t,n){r.added.push({item:t,index:n})},removedAt:function(e,t,n){r.removed.push({item:t,index:n})},changedAt:function(e,t,n){r.changed.push({setDiff:t,unsetDiff:n})},movedTo:function(){}}),r}}}.call(this),function(){"use strict";var e=angular.module("angular-meteor.object",["angular-meteor.utils","angular-meteor.subscribe","angular-meteor.collection","getUpdates","diffArray"]);e.factory("AngularMeteorObject",["$q","$meteorSubscribe","$meteorCollection","$meteorUtils","diffArray","getUpdates",function(e,t,n,r,o,i){function a(e,t,n){var r=new function(){},o=e.findOne(t,n);return angular.extend(r,o),angular.extend(r,a),r._serverBackup=o||{},r.$$collection=e,r.$$options=n,r.$$id=t||new Mongo.ObjectID,r}return a.$$internalProps=["$$collection","$$options","$$id","$$hashkey","$$internalProps","$$scope","save","reset","subscribe","stop","autorunComputation","unregisterAutoBind","unregisterAutoDestroy","getRawObject","_auto","_setAutos","_eventEmitter","_serverBackup"],a.getRawObject=function(){return angular.copy(_.omit(this,this.$$internalProps))},a.subscribe=function(){return t.subscribe.apply(this,arguments),this},a.save=function(t){var n,o=e.defer(),a=this.$$collection,s=_.partial(r.fulfill,o,null),u=a.findOne(this.$$id);return u?(n=t?{$set:t}:i(u,this.getRawObject()),a.update(this.$$id,n,s({action:"updated"}))):(n=t?_.clone(t):this.getRawObject(),n._id=this.$$id,a.insert(n,s({action:"inserted"}))),o.promise},a.reset=function(e){var t=this,n=this.$$options,r=this.$$id,o=this.$$collection.findOne(r,n);if(o){var i,a=_.keys(o),s=_.pick(o,a);angular.extend(Object.getPrototypeOf(t),Object.getPrototypeOf(o)),_.extend(t,s),_.extend(t._serverBackup,s),i=e?_.intersection(_.keys(t),_.keys(t._serverBackup)):_.keys(t);var u=_.keys(o),c=_.difference(i,u,t.$$internalProps);c.forEach(function(e){delete t[e],delete t._serverBackup[e]})}else _.keys(this.getRawObject()).forEach(function(e){delete t[e]}),t._serverBackup={}},a.stop=function(){this.unregisterAutoDestroy&&this.unregisterAutoDestroy(),this.unregisterAutoBind&&this.unregisterAutoBind(),this.autorunComputation&&this.autorunComputation.stop&&this.autorunComputation.stop()},a}]),e.factory("$meteorObject",["$rootScope","$meteorUtils","getUpdates","AngularMeteorObject",function(e,t,n,r){function o(e,t,n,i){if(!e)throw new TypeError("The first argument of $meteorObject is undefined.");if(!angular.isFunction(e.findOne))throw new TypeError("The first argument of $meteorObject must be a function or a have a findOne function property.");var a=new r(e,t,i);return a._auto=n!==!1,angular.extend(a,o),a._setAutos(),a}return o._setAutos=function(){var r=this;this.autorunComputation=t.autorun(e,function(){r.reset(!0)}),this.unregisterAutoBind=this._auto&&e.$watch(function(){return r.getRawObject()},function(e,t){if(e!==t){var o=e._id;delete e._id,delete t._id;var i=n(t,e);_.isEmpty(i)||r.$$collection.update({_id:o},i)}},!0),this.unregisterAutoDestroy=e.$on("$destroy",function(){r&&r.stop&&r.stop()})},o}]),e.run(["$rootScope","$meteorObject","$meteorStopper",function(e,t,n){var r=Object.getPrototypeOf(e);r.$meteorObject=n(t)}])}.call(this),function(){"use strict";var t=angular.module("angular-meteor.user",["angular-meteor.utils"]);t.service("$meteorUser",["$rootScope","$meteorUtils","$q",function(t,n,r){var o=Package["accounts-base"];if(o){var i=this,a=o.Accounts;this.waitForUser=function(){var o=r.defer();return n.autorun(t,function(){e.loggingIn()||o.resolve(e.user())}),o.promise},this.requireUser=function(){var o=r.defer();return n.autorun(t,function(){e.loggingIn()||(null==e.user()?o.reject("AUTH_REQUIRED"):o.resolve(e.user()))}),o.promise},this.requireValidUser=function(e){return i.requireUser().then(function(t){var n=e(t);return n===!0?t:r.reject("string"==typeof n?n:"FORBIDDEN")})},this.loginWithPassword=n.promissor(e,"loginWithPassword"),this.createUser=n.promissor(a,"createUser"),this.changePassword=n.promissor(a,"changePassword"),this.forgotPassword=n.promissor(a,"forgotPassword"),this.resetPassword=n.promissor(a,"resetPassword"),this.verifyEmail=n.promissor(a,"verifyEmail"),this.logout=n.promissor(e,"logout"),this.logoutOtherClients=n.promissor(e,"logoutOtherClients"),this.loginWithFacebook=n.promissor(e,"loginWithFacebook"),this.loginWithTwitter=n.promissor(e,"loginWithTwitter"),this.loginWithGoogle=n.promissor(e,"loginWithGoogle"),this.loginWithGithub=n.promissor(e,"loginWithGithub"),this.loginWithMeteorDeveloperAccount=n.promissor(e,"loginWithMeteorDeveloperAccount"),this.loginWithMeetup=n.promissor(e,"loginWithMeetup"),this.loginWithWeibo=n.promissor(e,"loginWithWeibo")}}]),t.run(["$rootScope","$meteorUtils",function(t,n){n.autorun(t,function(){e.user&&(t.currentUser=e.user(),t.loggingIn=e.loggingIn())})}])}.call(this),function(){"use strict";var t=angular.module("angular-meteor.methods",["angular-meteor.utils"]);t.service("$meteorMethods",["$q","$meteorUtils",function(t,n){this.call=function(){var r=t.defer(),o=n.fulfill(r),i=_.toArray(arguments).concat(o);return e.call.apply(this,i),r.promise}}])}.call(this),function(){"use strict";var e=angular.module("angular-meteor.session",["angular-meteor.utils"]);e.factory("$meteorSession",["$meteorUtils","$parse",function(e,t){return function(n){return{bind:function(r,o){var i=t(o),a=i.assign;e.autorun(r,function(){a(r,Session.get(n))}),r.$watch(o,function(){Session.set(n,i(r))},!0)}}}}])}.call(this),function(){var e=angular.module("angular-meteor.reactive-scope",[]);e.run(["$rootScope","$parse",function(e,t){Object.getPrototypeOf(e).getReactively=function(e,n){var r=this,o=t(e);return n=!!n,r.hasOwnProperty("$$trackerDeps")||(r.$$trackerDeps={}),r.$$trackerDeps[e]||(r.$$trackerDeps[e]=new Tracker.Dependency,r.$watch(function(){return o(r)},function(t,n){t!==n&&r.$$trackerDeps[e].changed()},n)),r.$$trackerDeps[e].depend(),o(r)},Object.getPrototypeOf(e).getCollectionReactively=function(e){var n=this,r=t(e);return n.hasOwnProperty("$$trackerDeps")||(n.$$trackerDeps={}),n.$$trackerDeps[e]||(n.$$trackerDeps[e]=new Tracker.Dependency,n.$watchCollection(e,function(){n.$$trackerDeps[e].changed()})),n.$$trackerDeps[e].depend(),r(n)}}])}.call(this),function(){"use strict";var e=angular.module("angular-meteor.utils",[]);e.service("$meteorUtils",["$q","$timeout",function(e,t){var n=this;this.getCollectionByName=function(e){return Mongo.Collection.get(e)},this.autorun=function(e,n){var r=Tracker.autorun(function(e){n(e),e.firstRun||t(angular.noop,0)});return e.$on("$destroy",function(){r.stop()}),r},this.stripDollarPrefixedKeys=function(e){if(!angular.isObject(e)||e instanceof Date||e instanceof File||"object"==typeof FS&&e instanceof FS.File)return e;var t=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){("string"!=typeof r||"$"!==r.charAt(0))&&(t[r]=n.stripDollarPrefixedKeys(e))}),t},this.fulfill=function(e,t,n){return function(r,o){r?e.reject(null==t?r:t):e.resolve(null==n?o:n)}},this.promissor=function(t,r){return function(){var o=e.defer(),i=n.fulfill(o),a=_.toArray(arguments).concat(i);return t[r].apply(t,a),o.promise}}}]),e.run(["$rootScope","$meteorUtils",function(e,t){Object.getPrototypeOf(e).$meteorAutorun=function(e){return t.autorun(this,e)}}])}.call(this),function(){"use strict";var e=angular.module("angular-meteor.camera",["angular-meteor.utils"]);e.service("$meteorCamera",["$q","$meteorUtils",function(e,t){var n=Package["mdg:camera"];if(n){var r=n.MeteorCamera;this.getPicture=function(n){n=n||{};var o=e.defer();return r.getPicture(n,t.fulfill(o)),o.promise}}}])}.call(this),function(){var e=angular.module("angular-meteor",["angular-meteor.subscribe","angular-meteor.collection","angular-meteor.object","angular-meteor.user","angular-meteor.methods","angular-meteor.session","angular-meteor.reactive-scope","angular-meteor.utils","angular-meteor.camera","hashKeyCopier"]);e.run(["$compile","$document","$rootScope",function(e,t,n){if(Package["iron:router"]){var r=!1;Package["iron:router"].Router.onAfterAction(function(){Tracker.afterFlush(function(){r||(e(t)(n),n.$$phase||n.$apply(),r=!0)})})}}]),e.service("$meteor",["$meteorCollection","$meteorCollectionFS","$meteorObject","$meteorMethods","$meteorSession","$meteorSubscribe","$meteorUtils","$meteorCamera","$meteorUser",function(e,t,n,r,o,i,a,s,u){this.collection=e,this.collectionFS=t,this.object=n,this.subscribe=i.subscribe,this.call=r.call,this.loginWithPassword=u.loginWithPassword,this.requireUser=u.requireUser,this.requireValidUser=u.requireValidUser,this.waitForUser=u.waitForUser,this.createUser=u.createUser,this.changePassword=u.changePassword,this.forgotPassword=u.forgotPassword,this.resetPassword=u.resetPassword,this.verifyEmail=u.verifyEmail,this.loginWithMeteorDeveloperAccount=u.loginWithMeteorDeveloperAccount,this.loginWithFacebook=u.loginWithFacebook,this.loginWithGithub=u.loginWithGithub,this.loginWithGoogle=u.loginWithGoogle,this.loginWithMeetup=u.loginWithMeetup,this.loginWithTwitter=u.loginWithTwitter,this.loginWithWeibo=u.loginWithWeibo,this.logout=u.logout,this.logoutOtherClients=u.logoutOtherClients,this.session=o,this.autorun=a.autorun,this.getCollectionByName=a.getCollectionByName,this.getPicture=s.getPicture}])}.call(this),"undefined"==typeof Package&&(Package={}),Package.angular={}}();